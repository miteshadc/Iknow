"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path = require("path");
class Util {
    static consoleLog(pathDepth = 1) {
        const _privateLog = console.log;
        console.log = (...msgs) => {
            if (pathDepth === -1) {
                return;
            }
            const newMessages = []; // tslint:disable-line
            let stack = (new Error()).stack.toString();
            stack = stack.substring(stack.indexOf('\n', 8) + 2);
            for (const msg of msgs) {
                stack = stack.substring(0, stack.indexOf('\n'));
                const matches = /\(([^)]+)\)/.exec(stack);
                if (matches) {
                    stack = matches[1].substring(matches[1].lastIndexOf(path.sep) + 1);
                    const filePathArray = matches[1].split(path.sep);
                    let filePath = '';
                    for (let i = filePathArray.length - pathDepth; i < filePathArray.length; i++) {
                        filePath += path.sep + filePathArray[i];
                    }
                    newMessages.push(filePath.substring(1), '\n');
                    newMessages.push(msg);
                }
            }
            _privateLog.apply(console, newMessages); // eslint-disable-line
        };
    }
}
exports.Util = Util;
//# sourceMappingURL=Util.js.map