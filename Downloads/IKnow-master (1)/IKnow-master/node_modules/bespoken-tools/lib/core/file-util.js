"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const fs = require("fs");
class FileUtil {
    static copyFile(source, target, callback) {
        let cbCalled = false;
        let readStream = fs.createReadStream(source);
        readStream.on("error", function (error) {
            done(error);
        });
        let writeStream = fs.createWriteStream(target);
        writeStream.on("error", function (error) {
            done(error);
        });
        writeStream.on("close", function () {
            done();
        });
        readStream.pipe(writeStream);
        function done(error) {
            if (!cbCalled) {
                if (callback !== undefined && callback !== null) {
                    callback(error);
                }
                cbCalled = true;
            }
        }
    }
    static readFile(source, callback) {
        fs.readFile(source, null, function (error, data) {
            if (error !== null) {
                callback(null);
            }
            else {
                callback(data);
            }
        });
    }
}
exports.FileUtil = FileUtil;
//# sourceMappingURL=file-util.js.map